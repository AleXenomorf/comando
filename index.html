
<!DOCTYPE html>

<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>MIND FIT — FP-style (Full)</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800;900&amp;family=Inter:wght@400;600&amp;display=swap" rel="stylesheet"/>
<style>
:root{
  --fp-bg: #0b0b0b;
  --fp-text: #e7e7e7;
  --fp-dim: #a7a7a7;
  --fp-accent: #d8ff40;
  --fp-border: rgba(255,255,255,.08);
  --container: clamp(320px, 92vw, 1200px);
}
*{box-sizing:border-box; margin:0; padding:0}
html,body{height:100%}
body{
  font-family: 'Inter','Montserrat',system-ui,-apple-system,'Segoe UI',Roboto,Ubuntu,Arial,sans-serif;
  background:var(--fp-bg);
  color:var(--fp-text);
  line-height:1.6;
  overflow-x:hidden;
}
a{color:inherit; text-decoration:none}
img{display:block; max-width:100%; height:auto}
.container{max-width:var(--container); margin:0 auto; padding:0 5vw}

/* NAV */
.nav{ position:fixed; inset:0 0 auto 0; height:64px; display:flex; align-items:center;
  backdrop-filter:saturate(140%) blur(10px);
  background:rgba(10,10,10,.5); border-bottom:1px solid var(--fp-border); z-index:1000; }
.nav .inner{display:flex; align-items:center; justify-content:space-between; width:100%}
.brand{font-weight:900; letter-spacing:-.5px; font-size:18px}
.nav .actions{display:flex; gap:10px; align-items:center}
.btn{ display:inline-flex; align-items:center; justify-content:center; padding:12px 20px; border-radius:999px;
  font-weight:800; white-space:nowrap; transition:transform .2s ease, box-shadow .2s ease, background .2s ease;
  border:1px solid var(--fp-border); }
.btn.primary{background:var(--fp-accent); color:#111; border:none; box-shadow:0 8px 30px rgba(216,255,64,.22)}
.btn.primary:hover{transform:translateY(-2px); box-shadow:0 12px 40px rgba(216,255,64,.28)}
.btn.ghost{color:var(--fp-text)}

/* HERO */
.hero{ min-height:56vh; padding-top:64px; display:grid; place-items:center;
  background: radial-gradient(80% 60% at 70% 20%, rgba(216,255,64,.07), transparent 60%),
              radial-gradient(60% 50% at 10% 80%, rgba(216,255,64,.05), transparent 60%); }
.hero-inner{ width:var(--container); padding:10vh 5vw; }
.hero-lines{font-family:'Montserrat',sans-serif; font-weight:900; text-transform:uppercase; line-height:1.02; letter-spacing:-.5px}
.hero-lines .line{ font-size:clamp(28px, 8vw, 90px); display:block; }
.hero-sub{color:var(--fp-dim); max-width:820px; margin-top:12px; font-size:clamp(15px,2vw,19px)}
.hero-cta{margin-top:18px; display:flex; gap:10px; flex-wrap:wrap}

/* SECTION BASE */
section{ padding: clamp(28px, 8vw, 96px) 0; position:relative }
.section-head{display:flex; align-items:flex-end; justify-content:space-between; gap:16px; margin-bottom:22px}
.h2{font-family:'Montserrat',sans-serif; font-weight:900; text-transform:uppercase; letter-spacing:-.5px; font-size:clamp(24px,5vw,46px)}
.muted{color:var(--fp-dim)}

/* SLIDER CORE */
.slider-section{ padding: clamp(36px, 9vw, 72px) 0; }
.slider .slides{ position:relative; }
.js-slide{ display:none; }
.js-slide.active{ display:block; }
.slide-inner{
  display:grid; grid-template-columns: 1.25fr 1fr; gap: 12px;
  background: rgba(255,255,255,.02); border:1px solid var(--fp-border);
  border-radius:18px; padding: clamp(12px, 3vw, 22px); box-shadow: 0 20px 60px rgba(0,0,0,.45);
}
@media(max-width: 900px){
  .slide-inner{ grid-template-columns: 1fr; }
}
.slide-photo img{ width:100%; height:auto; border-radius:14px; }
.slide-info h3{
  font-family:'Montserrat',sans-serif; font-weight:900; text-transform:uppercase;
  letter-spacing:-.3px; margin: 0 0 8px 0;
}
.slide-info p{ color:#a7a7a7; margin:0; }
.controls{ display:flex; align-items:center; justify-content:center; gap:10px; margin-top:10px; }
.dots{ display:flex; gap:8px; align-items:center; }
.dots button{ width:12px; height:12px; border-radius:999px; border:0; background:rgba(255,255,255,.28); }
.dots button.active{ background:#d8ff40; }

/* PARTICIPANTS multi image, centered rows */
.part-photos{ display:flex; flex-wrap:wrap; gap:10px; justify-content:center; }
.part-photos > div{ flex: 0 1 calc(33.333% - 10px); }
@media (max-width: 900px){ .part-photos > div{ flex-basis: calc(50% - 8px); } }
@media (max-width: 520px){ .part-photos > div{ flex-basis: 100%; } }
.part-photos img{ width:100%; height:auto; border-radius:12px; border:1px solid var(--fp-border); }

/* FAQ slider */
.faq-slide .slide-inner{ grid-template-columns: 1fr; }
.faq-q{ font-family:'Montserrat',sans-serif; font-weight:900; text-transform:uppercase; font-size:clamp(18px,3.5vw,28px); margin-bottom:8px }
.faq-a{ color:#a7a7a7; font-size:clamp(15px,2vw,18px) }

/* Pricing quick cards */
.programs{ display:grid; grid-template-columns:repeat(2,1fr); gap:12px; }
@media(max-width:660px){ .programs{ grid-template-columns:1fr; } }
.program{ background:rgba(255,255,255,.02); border:1px solid var(--fp-border); padding:16px; border-radius:14px }
.program h4{ font-family:'Montserrat',sans-serif; font-weight:800; text-transform:uppercase; margin-bottom:6px }
.program ul{ list-style:none; display:grid; gap:6px; color:var(--fp-dim); font-size:14px }

/* CTA strip + floating */
.cta-row{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap }
@media (max-width: 768px){
  .floating-cta--removed{
    position: fixed; right: 16px; bottom: 16px; z-index: 9999;
    display: inline-flex; align-items:center; justify-content:center;
    padding: 14px 18px; border-radius: 999px;
    background: var(--fp-accent); color:#111; font-weight: 800;
    box-shadow: 0 12px 30px rgba(216,255,64,.35);
    border: none; text-decoration:none;
  }
}
</style>
<style>
/* === HERO override: full-bleed photos for desktop/mobile === */
.hero{
  min-height: 80vh;
  background: #000 url('https://alexenomorf.github.io/comando/photo36.jpg') center/cover no-repeat !important;
}
@media (max-width: 640px){
  .hero{
    min-height: 70vh;
    background-image: url('https://alexenomorf.github.io/comando/photo37.jpg') !important;
  }
}
/* Hide previous hero texts and buttons */
.hero .hero-inner{ padding: 0; width: 100%; }
.hero .hero-lines, .hero .hero-sub, .hero .hero-cta{ display: none !important; }
</style><style>
/* === HERO: switch to inline <picture> (no cropping), remove background === */
.hero{
  background: none !important;
  min-height: auto !important;
  padding-top: 64px; /* keep space for fixed nav */
}
.hero .hero-inner{ padding: 0 !important; width: 100% !important; }
.hero .hero-media{ display:block; }
.hero .hero-media img{ display:block; width:100%; height:auto; }
/* keep texts/buttons hidden */
.hero .hero-lines, .hero .hero-sub, .hero .hero-cta{ display:none !important; }
@media (max-width: 640px){
  .hero{ padding-top: 64px; }
}
</style><style>
/* Mobile nav: show only brand, hide actions */
@media (max-width: 900px){
  .nav .actions{ display:none !important; }
  .nav .inner{ justify-content:center !important; }
  .nav .brand{ margin:0 auto; font-size:18px; }
}
</style><style>
/* Position hero for overlay CTAs; ensure overlay visible even if .hero-cta was hidden earlier */
.hero{ position: relative !important; }
.hero .hero-cta.overlay{ 
  position: absolute; 
  right: clamp(12px, 3vw, 28px); 
  bottom: clamp(12px, 3vw, 28px); 
  display: flex !important; 
  gap: 10px; 
  flex-wrap: wrap; 
  z-index: 2;
}
/* Compact buttons in hero on mobile */
@media (max-width: 640px){
  .hero .hero-cta.overlay{ 
    left: 12px; right: auto; bottom: 12px; 
    gap: 8px; 
  }
  .hero .hero-cta.overlay .btn{ padding: 10px 14px; font-size: 14px; }
}
</style><style>
/* Raise hero overlay CTAs: +100px desktop, +20px mobile */
.hero .hero-cta.overlay{ bottom: calc(clamp(12px, 3vw, 28px) + 100px) !important; }
@media (max-width: 640px){
  .hero .hero-cta.overlay{ bottom: calc(12px + 20px) !important; }
}
</style><style>
/* Raise hero overlay CTAs: +200px desktop, +50px mobile */
.hero .hero-cta.overlay{ bottom: calc(clamp(12px, 3vw, 28px) + 200px) !important; }
@media (max-width: 640px){
  .hero .hero-cta.overlay{ bottom: calc(12px + 50px) !important; }
}
</style><style>
/* Raise hero overlay CTAs: +200px desktop, +100px mobile */
.hero .hero-cta.overlay{ bottom: calc(clamp(12px, 3vw, 28px) + 200px) !important; }
@media (max-width: 640px){
  .hero .hero-cta.overlay{ bottom: calc(12px + 100px) !important; }
}
</style><style>
/* Final raise: desktop +500px total, mobile +100px */
.hero .hero-cta.overlay{ bottom: calc(clamp(12px, 3vw, 28px) + 500px) !important; }
@media (max-width: 640px){
  .hero .hero-cta.overlay{ bottom: calc(12px + 100px) !important; }
}
</style><style>
/* Desktop: move hero CTAs to left (50px inset) and lower them by 200px (now bottom = +300px) */
@media (min-width: 641px){
  .hero .hero-cta.overlay{
    left: 50px !important;
    right: auto !important;
    bottom: calc(clamp(12px, 3vw, 28px) + 300px) !important;
  }
}
</style><style>
/* Pin desktop CTA position: fixed pixels, no responsive shifting */
@media (min-width: 641px){
  .hero .hero-cta.overlay{
    bottom: 500px !important;  /* pinned height */
    left: 50px !important;     /* pinned inset */
    right: auto !important;
  }
}
</style><style>
/* Lower CTAs on mid-desktop widths (e.g., 1024px) to avoid covering the key area */
@media (min-width: 901px) and (max-width: 1200px){
  .hero .hero-cta.overlay{
    bottom: 320px !important; /* was 500px */
    left: 50px !important;
    right: auto !important;
  }
}
</style><style>
/* Pin mobile CTA position and raise by +100px (to ~212px from bottom) */
@media (max-width: 640px){
  .hero .hero-cta.overlay{
    bottom: 212px !important; /* pinned, no viewport-based shifting */
    left: 12px !important;
    right: auto !important;
  }
}
</style><style>
/* Program slider styles */
#program .slide-inner{ grid-template-columns: 0.7fr 2fr; }
@media(max-width: 900px){ #program .slide-inner{ grid-template-columns: 1fr; } }
#program .week-badge{
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  min-height: 160px;
  background: rgba(216,255,64,.08);
  border: 1px solid var(--fp-border);
  border-radius: 14px;
}
#program .week-badge .num{
  font-family:'Montserrat',sans-serif; font-weight:900; font-size: clamp(36px, 7vw, 64px);
  line-height:1; color:#d8ff40;
}
#program .week-badge .label{
  font-weight:800; text-transform:uppercase; letter-spacing:.5px; opacity:.9; margin-top:6px;
}
</style><style>
#program .program-slide .slide-info p{ margin-top: 0 !important; }
</style><style>
#program .program-slide .slide-info p .hl{
  color: #d3fa53;
  font-weight: 800;
}
</style><style>
/* "Бонусы" button: 10px above and 70px to the right of the overlay's left edge */
.hero .hero-cta.overlay{ position: absolute !important; }
.hero .hero-cta.overlay .bonus-btn{
  position: absolute;
  bottom: calc(100% + 10px);
  left: 70px;
  z-index: 3;
}
@media (max-width: 640px){
  .hero .hero-cta.overlay .bonus-btn{
    bottom: calc(100% + 10px);
    left: 70px;
  }
}
</style><style>
/* Single-file inline form modal */
#inline-form-modal{ position: fixed; inset: 0; background: rgba(0,0,0,.72); backdrop-filter: blur(6px);
  display:none; align-items:center; justify-content:center; z-index: 5000; padding: 20px; }
#inline-form-modal.show{ display:flex; }
#inline-form{ width:min(100%, 880px); height:min(100%, 720px); background:#111; border-radius:16px; border:1px solid rgba(255,255,255,.12);
  position:relative; overflow:hidden; box-shadow: 0 30px 100px rgba(0,0,0,.5); }
#inline-form iframe{ width:100%; height:100%; border:0; display:block; background:#111; }
#inline-form .close{ position:absolute; right:10px; top:10px; z-index:2; background:rgba(255,255,255,.1); color:#fff;
  border:0; border-radius:10px; width:36px; height:36px; font-size:20px; cursor:pointer; }
@media (max-width: 640px){
  #inline-form{ width:100%; height:90vh; border-radius:12px; }
  #inline-form .close{ width:40px; height:40px; font-size:24px; }
}
</style></head>
<body>
<header class="nav">
<div class="inner container">
<div class="brand">MIND FIT</div>
<div class="actions">
<a class="btn ghost" href="#participants">Участники</a>
<a class="btn ghost" href="#team">Команда</a>
<a class="btn ghost" href="#faq">FAQ</a>
<a class="btn primary" href="#pricing">Стоимость</a>
</div>
</div>
</header>
<section class="hero">
<div class="hero-inner"><picture class="hero-media"><source media="(max-width: 640px)" srcset="https://alexenomorf.github.io/comando/photo37.jpg"/><img alt="Команда Mind Fit" src="https://alexenomorf.github.io/comando/photo36.jpg"/></picture>
<div class="hero-lines">
<span class="line">начни делать чтобы не боятся</span>
</div>
<p class="hero-sub">Индивидуальные планы, аналитика прогресса, гибкое питание и поддержка 24/7. Всё в одном месте.</p>
<div class="hero-cta overlay"><a class="btn primary js-form-link" href="form_fix_v4.html?ps=ЗАЯВКА" target="_self">Подать заявку</a><a class="btn ghost js-form-link" href="form_fix_v4.html?ps=КОНСУЛЬТАЦИЯ" target="_self">Записаться на консультацию</a><a class="btn ghost bonus-btn js-form-link" href="form_fix_v4.html?ps=БОНУСЫ" target="_self">Бонусы</a></div></div>
</section>
<section class="slider-section" id="participants">
<div class="container">
<div class="section-head">
<h2 class="h2">Участники проекта</h2>
<div class="muted"></div>
</div>
<div class="slider js-slider">
<div class="slides">
<div class="js-slide participant-slide active">
<div class="slide-inner">
<div class="slide-photo" style="grid-column:1/-1">
<div class="part-photos"><div><img alt="Кейс 1.1" src="https://alexenomorf.github.io/comando/photo1.1.jpg"/></div><div><img alt="Кейс 1.2" src="https://alexenomorf.github.io/comando/photo1.2.jpg"/></div><div><img alt="Кейс 1.3" src="https://alexenomorf.github.io/comando/photo1.3.jpg"/></div></div>
</div>
</div>
</div>
<div class="js-slide participant-slide">
<div class="slide-inner">
<div class="slide-photo" style="grid-column:1/-1">
<div class="part-photos"><div><img alt="Кейс 2.1" src="https://alexenomorf.github.io/comando/photo2.1.jpg"/></div><div><img alt="Кейс 2.2" src="https://alexenomorf.github.io/comando/photo2.2.jpg"/></div><div><img alt="Кейс 2.3" src="https://alexenomorf.github.io/comando/photo2.3.jpg"/></div></div>
</div>
</div>
</div>
<div class="js-slide participant-slide">
<div class="slide-inner">
<div class="slide-photo" style="grid-column:1/-1">
<div class="part-photos"><div><img alt="Кейс 3.1" src="https://alexenomorf.github.io/comando/photo3.1.jpg"/></div><div><img alt="Кейс 3.2" src="https://alexenomorf.github.io/comando/photo3.2.jpg"/></div><div><img alt="Кейс 3.3" src="https://alexenomorf.github.io/comando/photo3.3.jpg"/></div></div>
</div>
</div>
</div>
<div class="js-slide participant-slide">
<div class="slide-inner">
<div class="slide-photo" style="grid-column:1/-1">
<div class="part-photos"><div><img alt="Кейс 4.1" src="https://alexenomorf.github.io/comando/photo4.1.jpg"/></div><div><img alt="Кейс 4.2" src="https://alexenomorf.github.io/comando/photo4.2.jpg"/></div></div>
</div>
</div>
</div>
<div class="js-slide participant-slide">
<div class="slide-inner">
<div class="slide-photo" style="grid-column:1/-1">
<div class="part-photos"><div><img alt="Кейс 5" src="https://alexenomorf.github.io/comando/5.1.jpg"/></div></div>
</div>
</div>
</div>
<div class="js-slide participant-slide">
<div class="slide-inner">
<div class="slide-photo" style="grid-column:1/-1">
<div class="part-photos"><div><img alt="Кейс 6" src="https://alexenomorf.github.io/comando/6.jpg"/></div><div><img alt="Кейс 6.1" src="https://alexenomorf.github.io/comando/6.1.jpg"/></div></div>
</div>
</div>
</div>
<div class="js-slide participant-slide">
<div class="slide-inner">
<div class="slide-photo" style="grid-column:1/-1">
<div class="part-photos"><div><img alt="Кейс 7" src="https://alexenomorf.github.io/comando/7.jpg"/></div><div><img alt="Кейс 7.1" src="https://alexenomorf.github.io/comando/7.1.jpg"/></div></div>
</div>
</div>
</div>
<div class="js-slide participant-slide">
<div class="slide-inner">
<div class="slide-photo" style="grid-column:1/-1">
<div class="part-photos"><div><img alt="Кейс 8.1" src="https://alexenomorf.github.io/comando/8.1.jpg"/></div><div><img alt="Кейс 8.2" src="https://alexenomorf.github.io/comando/8.2.jpg"/></div><div><img alt="Кейс 8.3" src="https://alexenomorf.github.io/comando/8.3.jpg"/></div></div>
</div>
</div>
</div>
</div>
<div class="controls">
<button class="btn ghost js-prev" type="button">Назад</button>
<div class="dots js-dots"></div>
<button class="btn primary js-next" type="button">Вперёд</button>
</div>
</div>
</div>
</section><section class="slider-section" id="program"><div class="container"><div class="section-head"><h2 class="h2">Программа проекта</h2><div class="muted">13 недель — пошаговый план</div></div><div class="slider js-slider"><div class="slides"><div class="js-slide program-slide active"><div class="slide-inner"><div class="slide-photo"><div class="week-badge"><div class="num">1</div><div class="label">неделя</div></div></div><div class="slide-info"><p><span class="hl">Диагностическая неделя</span>. Выдача индивидуальной программы тренировок. На этой неделе каждый получает свою программу тренировок и приступает к процессу. Также на основании ежедневных отчётов по питанию, активности и замерам участники получают свой индивидуальный расчёт КБЖУ и активности (шаги).</p></div></div></div><div class="js-slide program-slide"><div class="slide-inner"><div class="slide-photo"><div class="week-badge"><div class="num">2</div><div class="label">неделя</div></div></div><div class="slide-info"><p><span class="hl">Метаболизм и его составляющие</span>. К концу недели каждый участник получит навык подсчёта калорий и умение точно попадать в свою норму. При необходимости — корректировки программы и прогресс в тренировках.</p></div></div></div><div class="js-slide program-slide"><div class="slide-inner"><div class="slide-photo"><div class="week-badge"><div class="num">3</div><div class="label">неделя</div></div></div><div class="slide-info"><p><span class="hl">Белок</span>. По итогу недели участники научатся наедать необходимую норму белка в зависимости от нужд организма. Силовой тренинг идёт по прогрессии.</p></div></div></div><div class="js-slide program-slide"><div class="slide-inner"><div class="slide-photo"><div class="week-badge"><div class="num">4</div><div class="label">неделя</div></div></div><div class="slide-info"><p><span class="hl">Профилактика срывов и откатов</span>. Участники получат индивидуальные нормы по нетренировочной активности (шаги). Тренировки и питание — в штатном режиме. Дополнительно разбор: как не срываться на сладкое/жирное/алкоголь и дойти до результата.</p></div></div></div><div class="js-slide program-slide"><div class="slide-inner"><div class="slide-photo"><div class="week-badge"><div class="num">5</div><div class="label">неделя</div></div></div><div class="slide-info"><p><span class="hl">Растительность</span>. В питание — рекомендации по клетчатке и выполнение своей нормы с учётом нужд организма. Тренировки/питание/активность — в штатном режиме. Промежуточный контроль результатов и при необходимости — корректировка плана.</p></div></div></div><div class="js-slide program-slide"><div class="slide-inner"><div class="slide-photo"><div class="week-badge"><div class="num">6</div><div class="label">неделя</div></div></div><div class="slide-info"><p><span class="hl">Сон и восстановление</span>. Тренировки, питание и активность — в штатном режиме. Разбор по улучшению качества сна и восстановления. Индивидуальные рекомендации.</p></div></div></div><div class="js-slide program-slide"><div class="slide-inner"><div class="slide-photo"><div class="week-badge"><div class="num">7</div><div class="label">неделя</div></div></div><div class="slide-info"><p><span class="hl">Бытовая активность</span>. Тренировки, питание и активность — в штатном режиме. Разбор по увеличению бытовой активности и её пользе для организма.</p></div></div></div><div class="js-slide program-slide"><div class="slide-inner"><div class="slide-photo"><div class="week-badge"><div class="num">8</div><div class="label">неделя</div></div></div><div class="slide-info"><p><span class="hl">Вовлечённость в работу</span>. Тренировки, питание и активность — в штатном режиме. Разбор по улучшению качества вовлечённости и удержанию внимания на важных аспектах (техника, обучение и т.д.).</p></div></div></div><div class="js-slide program-slide"><div class="slide-inner"><div class="slide-photo"><div class="week-badge"><div class="num">9</div><div class="label">неделя</div></div></div><div class="slide-info"><p><span class="hl">Реабилитация и ЛФК</span>. Тренировки, питание и активность — в штатном режиме. Промежуточный контроль результатов. Разбор методик ЛФК и реабилитации.</p></div></div></div><div class="js-slide program-slide"><div class="slide-inner"><div class="slide-photo"><div class="week-badge"><div class="num">10</div><div class="label">неделя</div></div></div><div class="slide-info"><p><span class="hl">Стресс и работа с ним</span>. Тренировки, питание и активность — в штатном режиме. Разбор по работе со стрессом — основные механики без эзотерики.</p></div></div></div><div class="js-slide program-slide"><div class="slide-inner"><div class="slide-photo"><div class="week-badge"><div class="num">11</div><div class="label">неделя</div></div></div><div class="slide-info"><p><span class="hl">Разбор силового тренинга</span>. Тренировки, питание и активность — в штатном режиме. Аспекты силового тренинга и его польза для организма.</p></div></div></div><div class="js-slide program-slide"><div class="slide-inner"><div class="slide-photo"><div class="week-badge"><div class="num">12</div><div class="label">неделя</div></div></div><div class="slide-info"><p><span class="hl">Жиры и углеводы</span>. Тренировки, питание и активность — в штатном режиме. Разбор основных нутриентов — жиров и углеводов: зачем они нужны организму.</p></div></div></div><div class="js-slide program-slide"><div class="slide-inner"><div class="slide-photo"><div class="week-badge"><div class="num">13</div><div class="label">неделя</div></div></div><div class="slide-info"><p><span class="hl">Выдача рекомендаций для дальнейшей работы</span>. Тренировки, питание и активность — в штатном режиме. Подведение итогов и персональные дальнейшие рекомендации.</p></div></div></div></div><div class="controls"><button class="btn ghost js-prev" type="button">Назад</button><div class="dots js-dots"></div><button class="btn primary js-next" type="button">Вперёд</button></div></div></div></section>
<section class="slider-section" id="team">
<div class="container">
<div class="section-head">
<h2 class="h2">Наша команда</h2>
<div class="muted">эксперты и наставники</div>
</div>
<div class="slider js-slider">
<div class="slides">
<div class="js-slide team-slide active">
<div class="slide-inner">
<div class="slide-photo"><img alt="Андрей Дорохов" class="team-member-photo" src="https://alexenomorf.github.io/comando/4.jpg"/></div>
<div class="slide-info">
<h3>Андрей Дорохов</h3>
<p>Наставник проекта с более чем 15-летним опытом. Мастер спорта международного класса по жиму штанги лежа, чемпион и рекордсмен Азии и Казахстана. Более 300 клиентов достигли желаемой формы под его руководством.</p>
</div>
</div>
</div>
<div class="js-slide team-slide">
<div class="slide-inner">
<div class="slide-photo"><img alt="Дорохова Татьяна" class="team-member-photo" src="https://alexenomorf.github.io/comando/11.JPG"/></div>
<div class="slide-info">
<h3>Дорохова Татьяна</h3>
<p>Старший куратор, специалист по гипертрофийному и реабилитационному фитнесу. Доказательный нутрициолог с государственным дипломом РФ. Серебряный призер чемпионатов Казахстана по жиму штанги лежа.</p>
</div>
</div>
</div>
<div class="js-slide team-slide">
<div class="slide-inner">
<div class="slide-photo"><img alt="Руслан Самсонов" class="team-member-photo" src="https://alexenomorf.github.io/comando/33.jpg"/></div>
<div class="slide-info">
<h3>Руслан Самсонов</h3>
<p>Старший куратор с 6-летним опытом тренерской работы. Специалист по онлайн сопровождению клиентов в фитнесе. Эксперт в области физического воспитания и гипертрофийного тренинга.</p>
</div>
</div>
</div>
<div class="js-slide team-slide">
<div class="slide-inner">
<div class="slide-photo"><img alt="Милана" class="team-member-photo" src="https://alexenomorf.github.io/comando/photo_2025-06-25_11-35-02.jpg"/></div>
<div class="slide-info">
<h3>Милана Козлова</h3>
<p>Куратор с опытом тренерской деятельности более 2 лет. Дипломированный специалист по силовому тренингу и нутрициологии. Помогает клиентам достигать своих целей с помощью индивидуального подхода.</p>
</div>
</div>
</div>
<div class="js-slide team-slide">
<div class="slide-inner">
<div class="slide-photo"><img alt="Ким Артемий" class="team-member-photo" src="https://alexenomorf.github.io/comando/photo_2025-06-25_19-23-14.jpg"/></div>
<div class="slide-info">
<h3>Ким Артемий</h3>
<p>Куратор с 2-летним опытом в фитнес-проектах SMC и MindFit. Эксперт по гипертрофийному тренингу, снижению веса и восстановительному фитнесу. Специализируется на работе с новичками и людьми, которые ранее уже пробовали, но не смогли удержаться в системе. Работает во всех форматах: индивидуальное онлайн-сопровождение, групповые программы и бот-поддержка. Ставит на первое место мягкость, адаптацию под клиента и устойчивый результат без давления.</p>
</div>
</div>
</div>
</div>
<div class="controls">
<button class="btn ghost js-prev" type="button">Назад</button>
<div class="dots js-dots"></div>
<button class="btn primary js-next" type="button">Вперёд</button>
</div>
</div>
</div>
</section>
<section class="slider-section" id="faq">
<div class="container">
<div class="section-head">
<h2 class="h2">Часто задаваемые вопросы</h2>
<div class="muted"></div>
</div>
<div class="slider js-slider">
<div class="slides">
<div class="js-slide faq-slide active">
<div class="slide-inner">
<div class="slide-info">
<div class="faq-q">Нужно ли готовить отдельно для себя и семьи?</div>
<div class="faq-a">Нет, все блюда можно адаптировать под общий рацион, учитывая калорийность.</div>
</div>
</div>
</div>
<div class="js-slide faq-slide">
<div class="slide-inner">
<div class="slide-info">
<div class="faq-q">У меня нет времени на тренировки!</div>
<div class="faq-a">Для похудения достаточно соблюдать дефицит калорий; тренировки желательны, но не обязательны.</div>
</div>
</div>
</div>
<div class="js-slide faq-slide">
<div class="slide-inner">
<div class="slide-info">
<div class="faq-q">А если я не люблю считать калории?</div>
<div class="faq-a">Предлагаем простые и удобные инструменты для минимизации затрат времени на подсчет калорий, так чтоб это занимало не более 10 минут в день.</div>
</div>
</div>
</div>
<div class="js-slide faq-slide">
<div class="slide-inner">
<div class="slide-info">
<div class="faq-q">А если я ем сладкое каждый день?</div>
<div class="faq-a">Можно включать сладкое в рацион, соблюдая общий калораж.</div>
</div>
</div>
</div>
<div class="js-slide faq-slide">
<div class="slide-inner">
<div class="slide-info">
<div class="faq-q">У меня сидячая работа, смогу ли я похудеть?</div>
<div class="faq-a">Да, при правильной организации питания и режима дня снижение веса возможно даже при минимальной активности.</div>
</div>
</div>
</div>
<div class="js-slide faq-slide">
<div class="slide-inner">
<div class="slide-info">
<div class="faq-q">Я не хочу голодать!</div>
<div class="faq-a">Питание составлено так, чтобы вы чувствовали сытость и удовольствие от еды.</div>
</div>
</div>
</div>
<div class="js-slide faq-slide">
<div class="slide-inner">
<div class="slide-info">
<div class="faq-q">А вдруг у меня ничего не получится?</div>
<div class="faq-a">Мы сопровождаем каждого клиента на всех этапах, обеспечивая поддержку и мотивацию.</div>
</div>
</div>
</div>
</div>
<div class="controls">
<button class="btn ghost js-prev" type="button">Назад</button>
<div class="dots js-dots"></div>
<button class="btn primary js-next" type="button">Вперёд</button>
</div>
</div>
</div>
</section>
<section id="pricing">
<div class="container">
<div class="section-head">
<h2 class="h2">Стоимость участия</h2>
<div class="muted"></div>
</div>
<div class="programs">
<div class="program">
<h4>Базовый формат онлайн сопровождения</h4>
<ul><li>150.000 тенге за три месяца</li><li>65.000 тенге — помесячная оплата</li></ul>
<div style="margin-top:12px;"><a class="btn primary js-form-link" href="form_fix_v4.html?ps=БАЗОВЫЙ" target="_self">ПОДАТЬ ЗАЯВКУ</a></div>
</div>
<div class="program">
<h4>Мини-группа в фитнес клубе «Аврора»</h4>
<ul><li>200.000 тенге за три месяца</li><li>80.000 тенге — помесячная оплата</li><li>(абонемент в зал приобретается отдельно)</li></ul>
<div style="margin-top:12px;"><a class="btn primary js-form-link" href="form_fix_v4.html?ps=АВРОРА" target="_self">ПОДАТЬ ЗАЯВКУ</a></div>
</div>
<div class="program">
<h4>Пробная неделя с программой и сопровождением</h4>
<ul><li>10.000 тенге</li></ul>
<div style="margin-top:12px;"><a class="btn primary js-form-link" href="form_fix_v4.html?ps=ПРОБНАЯ-10К" target="_self">ПОДАТЬ ЗАЯВКУ</a></div>
</div>
<div class="program">
<h4>Пробная неделя с программой и сопровождением</h4>
<ul><li>15.000 тенге</li></ul>
<div style="margin-top:12px;"><a class="btn primary js-form-link" href="form_fix_v4.html?ps=ПРОБНАЯ-15К" target="_self">ПОДАТЬ ЗАЯВКУ</a></div>
</div>
</div>
</div>
</section>
<script>
(function(){
  function initSlider(root){
    const slides = Array.from(root.querySelectorAll('.js-slide'));
    const next = root.querySelector('.js-next');
    const prev = root.querySelector('.js-prev');
    const dotsWrap = root.querySelector('.js-dots');
    let i = slides.findIndex(s => s.classList.contains('active'));
    if(i < 0) i = 0;
    function show(idx){
      slides.forEach(s => s.classList.remove('active'));
      slides[idx].classList.add('active');
      if(dotsWrap){
        Array.from(dotsWrap.children).forEach((d, di)=>d.classList.toggle('active', di===idx));
      }
      i = idx;
    }
    if(dotsWrap){
      dotsWrap.innerHTML = '';
      slides.forEach((_, idx)=>{
        const b = document.createElement('button');
        if(idx===i) b.classList.add('active');
        b.addEventListener('click', ()=>show(idx));
        dotsWrap.appendChild(b);
      });
    }
    if(next) next.addEventListener('click', ()=>show((i+1)%slides.length));
    if(prev) prev.addEventListener('click', ()=>show((i-1+slides.length)%slides.length));
    let sx=0;
    root.addEventListener('touchstart', (e)=>{sx = e.touches[0].clientX;}, {passive:true});
    root.addEventListener('touchend', (e)=>{
      const dx = e.changedTouches[0].clientX - sx;
      if(Math.abs(dx) > 40){
        if(dx<0) show((i+1)%slides.length); else show((i-1+slides.length)%slides.length);
      }
    });
    show(i);
  }
  document.querySelectorAll('.js-slider').forEach(initSlider);
})();
</script>
<footer>
<div class="container">© 2025 Mind Fit. Все права защищены.</div>
</footer>
<script>
(function(){
  function computeFormUrl(qs){
    // Ensure URL resolves relative to the current directory path
    var path = window.location.pathname;
    // keep only directory part (strip file name if present)
    var base = path.replace(/[^\/]*$/, '');
    var url = window.location.origin + base + 'form_fix_v4.html' + (qs || '');
    return url;
  }
  document.addEventListener('click', function(e){
    var a = e.target.closest && e.target.closest('a.js-form-link');
    if(!a) return;
    // If modifier keys used (open in new tab), let browser handle
    if(e.metaKey || e.ctrlKey || e.shiftKey || e.altKey || a.target === '_blank') return;
    e.preventDefault();
    var href = a.getAttribute('href') || 'form_fix_v4.html';
    var qs = '';
    var i = href.indexOf('?');
    if(i !== -1) qs = href.slice(i);
    var url = computeFormUrl(qs);
    try{ window.location.assign(url); }
    catch(_){ window.location.href = url; }
  }, true);
})();
</script><script id="form-srcdoc" type="text/plain"><!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Анкета - Современная версия</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
    
    :root {
      --primary: #00ff88;
      --primary-dark: #00cc6a;
      --secondary: #0a84ff;
      --bg-main: #0a0a0a;
      --bg-card: #111111;
      --bg-input: #1a1a1a;
      --text-primary: #ffffff;
      --text-secondary: #a0a0a0;
      --border: #333333;
      --shadow: 0 8px 32px rgba(0, 255, 136, 0.15);
      --gradient: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: var(--bg-main);
      color: var(--text-primary);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      background-image: 
        radial-gradient(circle at 20% 50%, rgba(0, 255, 136, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(10, 132, 255, 0.1) 0%, transparent 50%);
    }

    .container {
      max-width: 500px;
      width: 100%;
      background: var(--bg-card);
      border-radius: 24px;
      padding: 40px;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      backdrop-filter: blur(20px);
      position: relative;
      overflow: hidden;
      animation: slideUp 0.6s ease-out;
    }

    .container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--gradient);
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .header {
      text-align: center;
      margin-bottom: 32px;
    }

    .title {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 8px;
      background: var(--gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .subtitle {
      color: var(--text-secondary);
      font-size: 16px;
      font-weight: 400;
    }

    .form-group {
      margin-bottom: 24px;
      position: relative;
    }

    .form-label {
      display: block;
      font-size: 14px;
      font-weight: 500;
      color: var(--text-secondary);
      margin-bottom: 8px;
      transition: color 0.3s ease;
    }

    .form-input {
      width: 100%;
      padding: 16px 20px;
      background: var(--bg-input);
      border: 2px solid transparent;
      border-radius: 12px;
      color: var(--text-primary);
      font-size: 16px;
      font-weight: 400;
      transition: all 0.3s ease;
      outline: none;
    }

    .form-input:focus {
      border-color: var(--primary);
      background: rgba(26, 26, 26, 0.8);
      transform: translateY(-1px);
      box-shadow: 0 4px 20px rgba(0, 255, 136, 0.2);
    }

    .form-input:focus + .form-label,
    .form-input:not(:placeholder-shown) + .form-label {
      color: var(--primary);
    }

    .form-input.error {
      border-color: #ff4444;
      animation: shake 0.5s ease-in-out;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }

    .form-input.valid {
      border-color: var(--primary);
    }

    .input-icon {
      position: absolute;
      right: 16px;
      top: 50%;
      transform: translateY(-50%);
      width: 20px;
      height: 20px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .form-input.valid + .input-icon.check {
      opacity: 1;
      color: var(--primary);
    }

    .form-input.error + .input-icon.error {
      opacity: 1;
      color: #ff4444;
    }

    .optional {
      color: var(--text-secondary);
      font-weight: 400;
      font-size: 12px;
    }

    .submit-btn {
      width: 100%;
      padding: 16px;
      background: var(--gradient);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 255, 136, 0.4);
    }

    .submit-btn:active {
      transform: translateY(0);
    }

    .submit-btn:disabled {
      opacity: 0.7;
      cursor: not-allowed;
      transform: none;
    }

    .submit-btn .btn-text {
      transition: opacity 0.3s ease;
    }

    .submit-btn .loading {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .submit-btn.loading .btn-text {
      opacity: 0;
    }

    .submit-btn.loading .loading {
      opacity: 1;
    }

    .spinner {
      width: 20px;
      height: 20px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-top: 2px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Progress bar */
    .progress-bar {
      width: 100%;
      height: 4px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 2px;
      margin-bottom: 24px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: var(--gradient);
      width: 0%;
      transition: width 0.3s ease;
      border-radius: 2px;
    }

    /* Modal styles */
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(8px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 20px;
    }

    .modal.show {
      display: flex;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .modal-content {
      background: var(--bg-card);
      border-radius: 20px;
      padding: 32px;
      max-width: 500px;
      width: 100%;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      position: relative;
      animation: modalSlide 0.3s ease;
    }

    @keyframes modalSlide {
      from {
        opacity: 0;
        transform: scale(0.9) translateY(20px);
      }
      to {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }

    .modal-close {
      position: absolute;
      top: 16px;
      right: 16px;
      width: 32px;
      height: 32px;
      border: none;
      background: rgba(255, 255, 255, 0.1);
      color: var(--text-secondary);
      border-radius: 8px;
      cursor: pointer;
      font-size: 18px;
      transition: all 0.3s ease;
    }

    .modal-close:hover {
      background: rgba(255, 255, 255, 0.2);
      color: var(--text-primary);
    }

    .modal-title {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 16px;
      color: var(--primary);
    }

    .modal-text {
      color: var(--text-secondary);
      margin-bottom: 24px;
      line-height: 1.6;
    }

    .download-list {
      list-style: none;
      margin: 0 0 24px 0;
    }

    .download-item {
      margin-bottom: 12px;
    }

    .download-link {
      display: flex;
      align-items: center;
      padding: 12px 16px;
      background: var(--bg-input);
      border-radius: 8px;
      text-decoration: none;
      color: var(--text-primary);
      transition: all 0.3s ease;
      border: 1px solid transparent;
    }

    .download-link:hover {
      background: rgba(0, 255, 136, 0.1);
      border-color: var(--primary);
      transform: translateY(-1px);
    }

    .download-icon {
      margin-right: 12px;
      color: var(--primary);
    }

    /* Responsive */
    @media (max-width: 600px) {
      .container {
        padding: 24px;
        margin: 10px;
      }
      
      .title {
        font-size: 24px;
      }
      
      .form-input {
        padding: 14px 16px;
      }
    }

    /* Form validation styles */
    .validation-message {
      font-size: 12px;
      margin-top: 4px;
      opacity: 0;
      transform: translateY(-10px);
      transition: all 0.3s ease;
    }

    .validation-message.show {
      opacity: 1;
      transform: translateY(0);
    }

    .validation-message.error {
      color: #ff4444;
    }

    .validation-message.success {
      color: var(--primary);
    }
  </style>
</head>
<body>
  <iframe id="hidden_iframe" name="hidden_iframe" style="display:none;"></iframe>

  <div class="container">
    <div class="header">
      <h1 class="title">Заявка на консультацию</h1>
      <p class="subtitle">Заполните форму и получите персональное предложение</p>
    </div>

    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>

    <form id="mainForm" action="https://docs.google.com/forms/d/e/1FAIpQLSeXbsEAJ5umw1GqCnbF8O0lrd_Jz_F6ilnlUl1M9GJyVt2DKg/formResponse" method="post" target="hidden_iframe" novalidate>
      
      <div class="form-group">
        <input 
          class="form-input" 
          type="text" 
          id="name" 
          placeholder="Введите ваше имя"
          required
          autocomplete="given-name"
        >
        <label class="form-label" for="name">Имя</label>
        <div class="validation-message" id="nameMessage"></div>
      </div>

      <div class="form-group">
        <input 
          class="form-input" 
          type="text" 
          id="surname" 
          placeholder="Введите вашу фамилию"
          required
          autocomplete="family-name"
        >
        <label class="form-label" for="surname">Фамилия</label>
        <div class="validation-message" id="surnameMessage"></div>
      </div>

      <div class="form-group">
        <input 
          class="form-input" 
          type="email" 
          id="email" 
          placeholder="example@mail.com"
          required
          autocomplete="email"
        >
        <label class="form-label" for="email">Email</label>
        <div class="validation-message" id="emailMessage"></div>
      </div>

      <div class="form-group">
        <input 
          class="form-input" 
          type="tel" 
          id="phone" 
          placeholder="+7 (999) 123-45-67"
          required
          autocomplete="tel"
        >
        <label class="form-label" for="phone">Телефон</label>
        <div class="validation-message" id="phoneMessage"></div>
      </div>

      <div class="form-group">
        <input 
          class="form-input" 
          type="text" 
          id="promo" 
          placeholder="Введите промокод"
          autocomplete="off"
        >
        <label class="form-label" for="promo">Промокод <span class="optional">(необязательно)</span></label>
      </div>

      <button type="submit" class="submit-btn" id="submitBtn">
        <span class="btn-text">Отправить заявку</span>
        <div class="loading">
          <div class="spinner"></div>
        </div>
      </button>
    </form>
  </div>

  <!-- Modal -->
  <div class="modal" id="modal">
    <div class="modal-content">
      <button class="modal-close" id="modalClose">×</button>
      <div id="modalBody"></div>
    </div>
  </div>

  <script>
    // Configuration
    const GOOGLE_FORM = {
      action: "https://docs.google.com/forms/d/e/1FAIpQLSeXbsEAJ5umw1GqCnbF8O0lrd_Jz_F6ilnlUl1M9GJyVt2DKg/formResponse",
      entries: {
        name: "entry.335444133",
        surname: "entry.2046906139",
        email: "entry.1743247901",
        phone: "entry.639032647",
        promo: "entry.84195239",
        package: "entry.1448692042"
      }
    };

    const FILES = [
      {name: "МЕНЮ 1200.pdf", file: "menu-1200.pdf"},
      {name: "МЕНЮ 1500.pdf", file: "menu-1500.pdf"},
      {name: "МЕНЮ 2000.pdf", file: "menu-2000.pdf"},
      {name: "Тренировка для женщин в тренажерном зале", file: "women-workout.pdf"},
      {name: "Тренировка для мужчин в тренажерном зале", file: "men-workout.pdf"}
    ];

    // Utility functions
    function getQueryParam(keys) {
      const params = new URLSearchParams(window.location.search);
      for (const key of keys) {
        const value = params.get(key);
        if (value && value.trim()) return decodeURIComponent(value).trim();
      }
      return "";
    }

    function detectPackage() {
      if (window.__PS__ && String(window.__PS__).trim()) { return String(window.__PS__).trim(); }
      return getQueryParam(["ps", "pkg", "package", "plan", "tariff"]) || "";
    }

    function isBonusFlow() {
      return detectPackage().toUpperCase() === "БОНУСЫ";
    }

    // Form validation
    class FormValidator {
      constructor() {
        this.fields = {
          name: { required: true, minLength: 2 },
          surname: { required: true, minLength: 2 },
          email: { required: true, pattern: /^[^\s@]+@[^\s@]+\.[^\s@]+$/ },
          phone: { required: true, pattern: /^[\+]?[0-9\s\-\(\)]{10,}$/ }
        };
        this.init();
      }

      init() {
        Object.keys(this.fields).forEach(fieldName => {
          const field = document.getElementById(fieldName);
          if (field) {
            field.addEventListener('input', () => this.validateField(fieldName));
            field.addEventListener('blur', () => this.validateField(fieldName));
          }
        });
      }

      validateField(fieldName) {
        const field = document.getElementById(fieldName);
        const config = this.fields[fieldName];
        const message = document.getElementById(fieldName + 'Message');
        
        if (!field) return true;

        let isValid = true;
        let errorMessage = '';

        const value = field.value.trim();

        if (config.required && !value) {
          isValid = false;
          errorMessage = 'Это поле обязательно для заполнения';
        } else if (value) {
          if (config.minLength && value.length < config.minLength) {
            isValid = false;
            errorMessage = `Минимум ${config.minLength} символа`;
          } else if (config.pattern && !config.pattern.test(value)) {
            isValid = false;
            if (fieldName === 'email') {
              errorMessage = 'Введите корректный email';
            } else if (fieldName === 'phone') {
              errorMessage = 'Введите корректный номер телефона';
            }
          }
        }

        // Update UI
        field.classList.remove('valid', 'error');
        if (value) {
          field.classList.add(isValid ? 'valid' : 'error');
        }

        if (message) {
          message.textContent = errorMessage;
          message.className = `validation-message ${errorMessage ? 'show error' : ''}`;
        }

        this.updateProgress();
        return isValid;
      }

      validateAll() {
        let allValid = true;
        Object.keys(this.fields).forEach(fieldName => {
          if (!this.validateField(fieldName)) {
            allValid = false;
          }
        });
        return allValid;
      }

      updateProgress() {
        const totalFields = Object.keys(this.fields).length;
        let validFields = 0;

        Object.keys(this.fields).forEach(fieldName => {
          const field = document.getElementById(fieldName);
          if (field && field.value.trim() && field.classList.contains('valid')) {
            validFields++;
          }
        });

        const progress = (validFields / totalFields) * 100;
        document.getElementById('progressFill').style.width = progress + '%';
      }
    }

    // Phone formatting
    function formatPhone(input) {
      let value = input.value.replace(/\D/g, '');
      
      if (value.startsWith('8')) {
        value = '7' + value.slice(1);
      }
      
      if (value.startsWith('7')) {
        value = value.slice(0, 11);
        const formatted = value.replace(/^7(\d{3})(\d{3})(\d{2})(\d{2})$/, '+7 ($1) $2-$3-$4');
        if (formatted.includes('(')) {
          input.value = formatted;
        }
      }
    }

    // Modal functions
    function showModal(content) {
      const modal = document.getElementById('modal');
      const modalBody = document.getElementById('modalBody');
      modalBody.innerHTML = content;
      modal.classList.add('show');
    }

    function hideModal() {
      const modal = document.getElementById('modal');
      modal.classList.remove('show');
    }

    function showBonusesModal() {
      const downloadList = FILES.map(file => 
        `<li class="download-item">
          <a href="${file.file}" download="${file.name}.pdf" class="download-link">
            <span class="download-icon">📄</span>
            ${file.name}
          </a>
        </li>`
      ).join('');

      const content = `
        <h2 class="modal-title">🎉 Ваши бонусы готовы!</h2>
        <p class="modal-text">Скачайте эксклюзивные материалы прямо сейчас:</p>
        <ul class="download-list">${downloadList}</ul>
      `;
      
      showModal(content);
    }

    function showSuccessModal() {
      const content = `
        <h2 class="modal-title">✅ Заявка отправлена!</h2>
        <p class="modal-text">Спасибо за обращение! Мы свяжемся с вами в ближайшее время.</p>
      `;
      
      showModal(content);
      
      setTimeout(() => {
        window.location.href = 'https://alexenomorf.github.io/comando/';
      }, 3000);
    }

    // Form submission
    function handleSubmit(e) {
      e.preventDefault();
      
      const validator = new FormValidator();
      if (!validator.validateAll()) {
        return;
      }

      const submitBtn = document.getElementById('submitBtn');
      submitBtn.classList.add('loading');
      submitBtn.disabled = true;

      // Add hidden fields for Google Form
      const form = document.getElementById('mainForm');
      
      // Remove old hidden fields
      form.querySelectorAll('input[type="hidden"]').forEach(input => input.remove());
      
      // Add new hidden fields
      Object.entries(GOOGLE_FORM.entries).forEach(([key, entry]) => {
        if (key === 'package') {
          const package = detectPackage();
          if (package) {
            const input = document.createElement('input');
            input.type = 'hidden';
            input.name = entry;
            input.value = package;
            form.appendChild(input);
          }
        } else {
          const field = document.getElementById(key);
          if (field && field.value.trim()) {
            const input = document.createElement('input');
            input.type = 'hidden';
            input.name = entry;
            input.value = field.value.trim();
            form.appendChild(input);
          }
        }
      });

      // Submit form
      form.submit();
      
      // Show appropriate modal
      setTimeout(() => {
        submitBtn.classList.remove('loading');
        submitBtn.disabled = false;
        
        if (isBonusFlow()) {
          showBonusesModal();
        } else {
          showSuccessModal();
        }
      }, 1500);
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      const validator = new FormValidator();
      const form = document.getElementById('mainForm');
      const phoneInput = document.getElementById('phone');
      const modalClose = document.getElementById('modalClose');
      const modal = document.getElementById('modal');

      // Form submission
      form.addEventListener('submit', handleSubmit);

      // Phone formatting
      phoneInput.addEventListener('input', function() {
        formatPhone(this);
      });

      // Modal events
      modalClose.addEventListener('click', hideModal);
      modal.addEventListener('click', function(e) {
        if (e.target === modal) {
          hideModal();
        }
      });

      // ESC key to close modal
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && modal.classList.contains('show')) {
          hideModal();
        }
      });

      // Handle iframe load (Google Form response)
      document.getElementById('hidden_iframe').addEventListener('load', function() {
        setTimeout(() => {
          const submitBtn = document.getElementById('submitBtn');
          submitBtn.classList.remove('loading');
          submitBtn.disabled = false;
          
          if (isBonusFlow()) {
            showBonusesModal();
          } else {
            showSuccessModal();
          }
        }, 500);
      });
    });
  </script>
</body>
</html></script><div id="inline-form-modal"><div id="inline-form"><button class="close">×</button><iframe id="inline-form-frame" srcdoc=""></iframe></div></div><script>
(function(){
  function getPsFromHref(href){
    if(!href) return '';
    const i = href.indexOf('?'); if(i<0) return '';
    const qs = new URLSearchParams(href.slice(i+1));
    return qs.get('ps') || qs.get('pkg') || qs.get('package') || '';
  }
  function buildSrcdoc(ps){
    try{
      const raw = document.getElementById('form-srcdoc').textContent;
      // Inject window.__PS__ before the rest of the HTML <body>
      const inj = "<script>window.__PS__="+JSON.stringify(ps)+";</"+"script>";
      // Place after <body> tag if present, otherwise prepend
      if(raw.includes("<body")){
        return raw.replace(/<body([^>]*)>/i, function(m,attrs){ return "<body"+attrs+">"+inj; });
      }
      return inj + raw;
    }catch(e){
      return "<!doctype html><meta charset='utf-8'><body style='background:#111;color:#fff;font-family:sans-serif'><p>Не удалось загрузить форму.</p></body>";
    }
  }
  function openFormModal(ps){
    const modal = document.getElementById('inline-form-modal');
    const frame = document.getElementById('inline-form-frame');
    frame.setAttribute('srcdoc', buildSrcdoc(ps||''));
    modal.classList.add('show');
    // lock scroll
    document.documentElement.style.overflow = 'hidden';
    document.body.style.overflow = 'hidden';
  }
  function closeFormModal(){
    const modal = document.getElementById('inline-form-modal');
    const frame = document.getElementById('inline-form-frame');
    modal.classList.remove('show');
    frame.removeAttribute('srcdoc'); // free memory
    document.documentElement.style.overflow = '';
    document.body.style.overflow = '';
  }
  document.addEventListener('click', function(e){
    const a = e.target.closest && e.target.closest('a');
    if(!a) return;
    const href = a.getAttribute('href') || "";
    if(!/form_fix_v4\.html/i.test(href)) return;
    const ps = getPsFromHref(href);
    e.preventDefault();
    openFormModal(ps);
  }, true);
  // close button & backdrop
  document.querySelector('#inline-form .close').addEventListener('click', closeFormModal);
  document.getElementById('inline-form-modal').addEventListener('click', function(e){
    if(e.target === this){ closeFormModal(); }
  });
  document.addEventListener('keydown', function(e){
    if(e.key === 'Escape'){ closeFormModal(); }
  });
})();</script></body>
</html>
